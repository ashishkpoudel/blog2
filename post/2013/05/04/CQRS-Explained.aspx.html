<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Sapiensworks | CQRS Explained</title>
  <meta name="description" content="Converting tech into business advantage">
  <meta name="author" content="Mike Mogosanu">
  <meta name="twitter:card" content="summary"/>
<meta name="twitter:description" content="In-depth technical articles for developers who want to deliver more business value"/>
<meta name="twitter:title" content="SapiensWorks -  CQRS Explained"/>
<meta name="twitter:site" content="@sapiensworks"/>
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/gridlex/2.6.1/gridlex.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
 <link rel="alternate" type="application/atom+xml" title="Sapiensworks Articles" href="/feed.atom" />
  <link rel="stylesheet"
  href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/androidstudio.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <link rel="stylesheet" href="/style.css">
  <script type='text/javascript' src='//platform-api.sharethis.com/js/sharethis.js#property=5a3b096e9d192f001374336b&product=sop' async='async'></script>
</head>
<body>
<header>
  <div class="grid-noGutter-middle">
    <div class="col-4_xs-12_sm-12" data-push-left="off-4_sm-0_xs-0">
      
          <h1 class="title">  <a href="/">  Sapiens Works </a> </h1>
      
      

      </div>
      
      <div class="col-3_xs-8_sm-8 text-center" data-push-left="off-1_xs-1_sm-1"><a href="https://twitter.com/sapiensworks">
        <span class="fa fa-twitter-square fa-2x"></span></a>
        <a href="https://github.com/sapiens">
        <span class="fa fa-github-square fa-2x"></span></a>
        <a href="http://stackoverflow.com/users/1017868/mikesw">
        <span class="fa fa-stack-overflow fa-2x"></span></a>
        <!-- <a href="/feed.atom">
        <span class="fa fa-rss-square fa-2x"></span></a> -->
      </div>
    
    
  </div>
  <div class="grid-middle-center-noGutter">
      <div class="col-3_xs-12_sm-12"><span class="tagline">Converting tech into business advantage</span></div>
    
    </div>
    
        <nav class="grid-center-noGutter-middle main-menu">
            
            <a href="/tags.html" class="col-1_xs-3_sm-3">
              <span>Topics</span>
            </a>
            <a href="/about.html" class="col-1_xs-3_sm-3">
              <span>About</span>
            </a>
            
         
            
          </nav>

    
    

 
  

  


  
</header>
<main>



 <article>
    <header>
      <h1>CQRS Explained</h1>
      <div class="article-meta">
      <span>published on &nbsp; <b>04 May 2013</b></span> in <a href="/tags.html#Cqrs">Cqrs</a>
    </div>
    </header>
  <div class="post">
 
<p>I find it refreshing that CQRS is more and more used. What surprises me is the for many developers this is considered a 'big leap', something involving learning 'advanced' stuff and complex frameworks. But CQRS is just a very simple and straightforward concept: Command Query Responsibility Segregation (Separation).</p>
<p>Let's take it step by step.</p>
<p>A <strong>Command</strong> is behavior which modifies the Model. A <strong>Query</strong> is well... querying (reads) the Model. Why the separation? Think a bit: modifying the Model usually means business rules validation and interactions between business objects. It's a 'rich' Model. When we want to query the same model, we have to restore it from persistence (which can be very slow), populate all the objects, instantiating business rules etc. All this just to get the Name for some Product. How about the names for 1500 Products?</p>
<p>Sure we can store things directly in a queryable form, that's why you're using a RDBMS, but restoring the state especially when dealing with complex relations between the objects it's a complicated affair.</p>
<p>But someone smart pondered the things and wondered: querying the model doesn't change it, so instead of complicating my life, how about I use models optimized for my tasks? If I want to change the model, I'll have a rich and relevant business model but when I want to query it, I'll have a simplified, optimized for reads model. So, instead of having only one Model trying to please two different scenarios, I'll have one model optimized for each scenario.</p>
<p>But wait, doesn't that mean we have to write more code and breaking the DRY (Don't Repeat Yourself) principle? Not quite. First of all the query model, usually referred to as the read model is just a slimmed down version of the richer model. Of course, depending on the contexts you could have more than 1 read model.</p>
<p>The DRY principle isn't violated, because our read model is just 'dumb' data. The advantage is that each context gets its own relevant and most importantly <strong>easy to use</strong> model which simplifies the understanding and the maintenance of the code.</p>
<p>And this is all that CQRS means: have a different model for changing state (command) and for reading state (query). That's it, nothing more and nothing less</p>
<p>I'm sure that searching about CQRS you came across CQRS frameworks and Event Sourcing, but I'm afraid that CQRS only means the simple thing stated above. You don't need a framework for such concept, it's impossible to have a framework. What frameworks/toolkits you've found are in fact for Domain Driven Design or Event Sourcing (ES) or Domain Events etc which happen to use CQRS.</p>
<p>CQRS is a great concept to be used in any application when one model means complicated code and that's why is a perfect fit with DDD, ES or a Message Driven Architecture. You'll find them used together, but each means something else and a good developer should understand what each pattern brings to the table. They are tools not buzzwords.</p>

 </div>
 <footer>
   <div class="sharethis-inline-share-buttons"></div>
 <a class="previous" href="/post/2013/05/01/DDD-Persisting-Aggregate-Roots-In-A-Unit-Of-Work.aspx.html">&laquo; Previous</a> 
 <a class="next" href="/post/2013/05/13/7-Biggest-Pitfalls-When-Doing-Domain-Driven-Design.aspx.html">Next &raquo;</a>    
 </footer>
  </article>;

  <section id="comments">
  
      <div class="comments">
        <div id="disqus_thread"></div>
        <script type="text/javascript">
      
            var disqus_shortname = 'sapiensworks';
      
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
      
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      </div>
      
        </section>
</main>
<footer>
    © 2018 SapiensWorks.com 
</footer>
<script>hljs.initHighlightingOnLoad();</script>
<!-- Google Analytics -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-2037614-18', 'auto');
		ga('send', 'pageview', {
		  'page': '/',
		  'title': ''
		});
	</script>
	<!-- End Google Analytics -->
</body>
</html>