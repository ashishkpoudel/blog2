<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Sapiensworks | Understanding The Mindset of Event Sourcing</title>
  <meta name="description" content="Converting tech into business advantage">
  <meta name="author" content="Mike Mogosanu">
  <meta name="twitter:card" content="summary"/>
<meta name="twitter:description" content="In-depth technical articles for developers who want to deliver more business value"/>
<meta name="twitter:title" content="SapiensWorks -  Understanding The Mindset of Event Sourcing"/>
<meta name="twitter:site" content="@sapiensworks"/>
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/gridlex/2.6.1/gridlex.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
 <link rel="alternate" type="application/atom+xml" title="Sapiensworks Articles" href="/feed.atom" />
  <link rel="stylesheet"
  href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/androidstudio.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <link rel="stylesheet" href="/style.css">
  <script type='text/javascript' src='//platform-api.sharethis.com/js/sharethis.js#property=5a3b096e9d192f001374336b&product=sop' async='async'></script>
</head>
<body>
<header>
  <div class="grid-noGutter-middle">
    <div class="col-4_xs-12_sm-12" data-push-left="off-4_sm-0_xs-0">
      
          <h1 class="title">  <a href="/">  Sapiens Works </a> </h1>
      
      

      </div>
      
      <div class="col-3_xs-8_sm-8 text-center" data-push-left="off-1_xs-1_sm-1"><a href="https://twitter.com/sapiensworks">
        <span class="fa fa-twitter-square fa-2x"></span></a>
        <a href="https://github.com/sapiens">
        <span class="fa fa-github-square fa-2x"></span></a>
        <a href="http://stackoverflow.com/users/1017868/mikesw">
        <span class="fa fa-stack-overflow fa-2x"></span></a>
        <a href="/feed.atom">
        <span class="fa fa-rss-square fa-2x"></span></a>
      </div>
    
    
  </div>
  <div class="grid-middle-center-noGutter">
      <div class="col-3_xs-12_sm-12"><span class="tagline">Converting tech into business advantage</span></div>
    
    </div>
    
        <nav class="grid-center-noGutter-middle main-menu">
            
            <a href="/tags.html" class="col-1_xs-3_sm-3">
              <span>Topics</span>
            </a>
            <a href="/about.html" class="col-1_xs-3_sm-3">
              <span>About</span>
            </a>
            
         
            
          </nav>

    
    

 
  

  


  
</header>
<main>



 <article>
    <header>
      <h1><a href="/post/2018/02/19/event-sourcing-mindset">Understanding The Mindset of Event Sourcing</a></h1>
      <div class="article-meta">
      <span>published on &nbsp; <b>19 February 2018</b></span> in <a href="/tags.html#Domain driven design">Domain driven design</a>
    </div>
    </header>
  <div class="post">
 
<p>As Event Sourcing (ES) becomes more and more mainstream, usually bundled with DDD and CQRS, it's important for domain modellers, application architects etc to understand the paradigm behind the recipe.</p>
<p>In the 'classical' approach, the domain state is seen as a data structure or a collection of data structures (entities data). In ES we see the <strong>domain state as a collection of changes</strong>. You may wonder how we've got here and why this is the preferred way of working for many DDD practitioners.</p>
<p>If you're familiar with accounting or at least basic book-keeping, you know that (before computers) a book-keeper would write the daily relevant financial transactions into a ledger. Using their accounting 'language' they would record all the business events as they were.</p>
<p>An important thing here is that a book-keeper just writes down things, there's no attempt at interpreting or processing the events. Basically, a financially specialized scribe keeping a log of business actions.</p>
<p>When an investor or a manager wants to asses the health of the company, they usually look at 3 documents: balance sheet, income statement, cash flow statement. Each report offers a different view of the business highlighting different aspects. But how are these documents generated?</p>
<p>Well, someone (these days a software) would look at all transactions recorded in the general ledger and depending on what report is generated, specific information is extracted and aggregated according to that report's purpose.</p>
<p>By now, you've probably noticed that the ledger is basically an Event Store and that accounting is using CQRS (imagine that!!). So, we can say that ES is the book-keeping approach adapted for software development. A paradigm that has been used in any business in the world for hundreds of years. And if it works very well in the real world, it should work very well in a Domain Driven application, too.</p>
<p>The ES mindset sees the domain state as the accounting ledger (incidentally the Event Store is the actual 'ledger' as a technical detail), a collection of business actions that already happened (events). Like the book-keeper, we want to record operations and not just update some data structures like in the classical approach. Therefore properly identifying relevant domain events becomes very important and it's the first step when applying ES.</p>
<p>At this point you might wonder:&quot;Okay, but what's wrong with the old approach?&quot;. In the end it's easier just to modify some data structure. It is, but it's also limited, because 1) all you have is the most current data and 2) accounting proved that recording operations instead of just modifying existing data is more flexible. Why reinvent the wheel poorly, when we have a hundreds of years old approach that works very well?!</p>
<p>Remember, in accounting, all events are written once then we can get <em>any</em> type of report based on that information. In ES we call those reports projections.</p>
<p>Now, let's say I need the state of some entity. Since all we have is a collection of operations that happened (grouped by entity), we need to process (<em>apply</em>) the relevant events in a manner that makes sense for the business use case needing that state. This means that the events are 'processed' in order to extract the relevant information, so we can say that restoring an entity state is a form of creating a report. That's why, the resulted state should be considered a read model from CQRS point of view. Obviously, actual code implementations may vary depending on your style.</p>
<p>And speaking of restoring state or any other projection, the fact that it's based on the collection of events makes it <em>event sourced</em>, hence the name of the pattern.</p>
<p>Once you understand that, in the design process, we're focusing on the outcomes of business operations a.k.a domain events, that are persisted as they are, then projected (processed) according to reporting needs, you know the essence of ES.</p>

 </div>
 <footer>
   <div class="sharethis-inline-share-buttons"></div>

 <a class="previous" href="/post/2018/01/29/Why-you-dont-need-microservices">&laquo; Previous</a> 
 <a class="next" href="/post/2018/02/21/Explaining-technical-debt">Next &raquo;</a>    
 </footer>
  </article>;

  <section id="comments">
  
      <div class="comments">
        <div id="disqus_thread"></div>
        <script type="text/javascript">
      
            var disqus_shortname = 'sapiensworks';
      
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
      
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      </div>
      
        </section>
</main>
<footer>
    © 2018 SapiensWorks.com 
</footer>
<script>hljs.initHighlightingOnLoad();</script>
<!-- Google Analytics -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-2037614-18', 'auto');
		ga('send', 'pageview', {
		  'page': '/',
		  'title': ''
		});
	</script>
	<!-- End Google Analytics -->
</body>
</html>